<!doctype html>
<html lang="sv">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>OffertSignal — Signal före offert</title>
  <meta name="description"
    content="OffertSignal hjälper hantverksbolag prioritera rätt leads och vinna fler lönsamma offerter." />
  <script defer data-domain="offertsignal.se" src="https://plausible.kuben.site/js/script.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=DM+Serif+Display:ital@0;1&family=Space+Mono:wght@400;700&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --paper: #E8E4DD;
      --bg: #F5F3EE;
      --text: #111111;
      --accent: #E63B2E;
      --line: rgba(17, 17, 17, .14);
      --dark: #111111;
      --radius-xl: 2.4rem;
      --radius-lg: 2rem;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      margin: 0;
      padding: 0
    }

    body {
      font-family: 'Space Grotesk', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      overflow-x: hidden
    }

    .noise {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
      opacity: .05;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.3' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    }

    .wrap {
      width: min(1160px, 92vw);
      margin: 0 auto
    }

    .nav {
      position: fixed;
      top: 16px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 50;
      width: min(980px, 92vw);
      transition: .35s ease
    }

    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid transparent
    }

    .nav.scrolled .nav-inner {
      background: rgba(245, 243, 238, .78);
      backdrop-filter: blur(12px);
      border-color: var(--line)
    }

    .logo {
      font-weight: 700;
      letter-spacing: -.02em
    }

    .logo span {
      font-family: 'DM Serif Display', serif;
      font-style: italic
    }

    .nav-links {
      display: flex;
      gap: 18px
    }

    .nav-links a {
      font-size: .92rem;
      color: #3a3a3a;
      text-decoration: none;
      transition: .2s
    }

    .nav-links a:hover {
      transform: translateY(-1px)
    }

    .btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid var(--dark);
      border-radius: 999px;
      padding: 11px 18px;
      text-decoration: none;
      color: var(--dark);
      font-weight: 600;
      overflow: hidden;
      transition: transform .3s cubic-bezier(.25, .46, .45, .94)
    }

    .btn .slide {
      position: absolute;
      inset: 0;
      background: var(--dark);
      transform: translateX(-100%);
      transition: transform .35s ease;
      z-index: -1
    }

    .btn:hover {
      transform: scale(1.03)
    }

    .btn:hover .slide {
      transform: translateX(0)
    }

    .btn:hover span {
      color: #fff
    }

    .hero {
      min-height: 100dvh;
      position: relative;
      display: flex;
      align-items: flex-end;
      padding: 120px 0 72px;
      overflow: hidden;
      isolation: isolate
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        linear-gradient(to top, rgba(245, 243, 238, .48) 8%, rgba(245, 243, 238, .22) 42%, rgba(245, 243, 238, .06) 72%);
      z-index: 1;
      pointer-events: none
    }

    #heroMesh {
      position: absolute;
      inset: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
      display: block;
      filter: saturate(1.05) contrast(1.02)
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 840px;
      color: #111111
    }

    .eyebrow {
      font-family: 'Space Mono', monospace;
      font-size: .82rem;
      letter-spacing: .08em;
      text-transform: uppercase;
      opacity: .75;
      color: #3f3f46
    }

    .hero h1 {
      margin: .45rem 0 .3rem;
      font-size: clamp(1.9rem, 6.2vw, 5rem);
      line-height: .96;
      letter-spacing: -.03em
    }

    .hero h1 em {
      display: block;
      font-family: 'DM Serif Display', serif;
      font-style: italic;
      font-size: clamp(1.7rem, 5.1vw, 4.1rem);
      line-height: .95;
      color: var(--accent)
    }

    .hero p {
      max-width: 640px;
      color: #3f3f46
    }

    .hero-cta {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap
    }

    .btn-light {
      border-color: #111;
      color: #111;
      background: rgba(255, 255, 255, .35)
    }

    .btn-light .slide {
      background: #111
    }

    .btn-light:hover span {
      color: #fff
    }

    section {
      padding: 88px 0;
      border-top: 1px solid var(--line)
    }

    h2 {
      font-size: clamp(1.8rem, 3.8vw, 3rem);
      line-height: 1.03;
      letter-spacing: -.02em;
      margin: 0 0 8px
    }

    .sub {
      color: #535353;
      max-width: 690px
    }

    .features {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 18px;
      margin-top: 24px
    }

    .artifact {
      background: var(--paper);
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      padding: 20px;
      min-height: 320px;
      position: relative;
      overflow: hidden
    }

    .artifact h3 {
      margin: 0 0 8px;
      font-size: 1.05rem
    }

    .shuffle-stack {
      position: relative;
      height: 190px;
      margin-top: 14px
    }

    .shuffle-card {
      position: relative;
      padding: 14px;
      border: 1px solid var(--line);
      background: #fff;
      border-radius: 16px;
      transition: .35s ease;
      min-height: 94px
    }

    .shuffle-meta {
      margin-top: 10px;
      font-size: .78rem;
      color: #666;
      font-family: 'Space Mono', monospace
    }

    .mono {
      font-family: 'Space Mono', monospace
    }

    .feed {
      margin-top: 14px;
      border: 1px dashed var(--line);
      border-radius: 14px;
      padding: 12px;
      background: #fff;
      min-height: 190px
    }

    .feed-head {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: .78rem;
      text-transform: uppercase;
      letter-spacing: .06em;
      color: #666
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--accent);
      animation: pulse 1.2s infinite
    }

    .typing {
      margin-top: 10px;
      white-space: pre-wrap;
      min-height: 120px
    }

    .cursor {
      display: inline-block;
      width: 8px;
      height: 1.05em;
      background: var(--accent);
      vertical-align: middle;
      animation: blink .9s step-end infinite
    }

    .pick-row-10 {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 8px;
      align-items: end;
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 12px
    }

    .pick10-box {
      height: 44px;
      border: 1px solid var(--line);
      border-radius: 8px;
      background: linear-gradient(180deg, #fff, #f3f4f6);
      transition: transform .28s ease, background .28s ease, border-color .28s ease, box-shadow .28s ease
    }

    .pick10-box.hot {
      background: linear-gradient(180deg, #ff8d7f, #e63b2e);
      border-color: #d4362b;
      transform: translateY(-8px);
      box-shadow: 0 8px 14px rgba(230, 59, 46, .22)
    }

    .pick-caption {
      margin-top: 10px;
      font-size: .78rem;
      color: #666
    }

    .manifesto {
      background: #111;
      color: #f5f3ee;
      position: relative;
      overflow: hidden
    }

    .manifesto::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=1800&q=80') center/cover no-repeat;
      opacity: .16;
      transform: scale(1.08)
    }

    .manifesto .wrap {
      position: relative
    }

    .manifesto p {
      max-width: 980px
    }

    .manifesto .big {
      font-size: clamp(1.8rem, 4.4vw, 4rem);
      line-height: 1.08
    }

    .manifesto .big em {
      font-family: 'DM Serif Display', serif;
      color: var(--accent);
      font-style: italic
    }

    .protocol {
      background: #ede9e1
    }

    .pin-wrap {
      position: relative;
      height: 320vh;
      margin-top: 18px
    }

    .pin-stage {
      position: sticky;
      top: 8vh;
      height: 84vh;
      display: grid;
      place-items: center
    }

    .p-card {
      position: absolute;
      width: min(920px, 92vw);
      background: #fff;
      border: 1px solid var(--line);
      border-radius: var(--radius-xl);
      padding: 28px;
      box-shadow: 0 20px 35px rgba(0, 0, 0, .08);
      opacity: 0;
      transform: translateY(120px) scale(.96)
    }

    #pc1 {
      z-index: 1
    }

    #pc2 {
      z-index: 2
    }

    #pc3 {
      z-index: 3
    }

    .p-step {
      font-family: 'Space Mono', monospace;
      font-size: .8rem;
      color: #666
    }

    .p-art {
      height: 130px;
      margin-top: 14px;
      border: 1px dashed var(--line);
      border-radius: 16px;
      display: grid;
      place-items: center;
      overflow: hidden
    }

    .pricing {
      display: grid;
      grid-template-columns: 1fr 1.08fr 1fr;
      gap: 14px;
      margin-top: 22px
    }

    .tier {
      border: 1px solid var(--line);
      border-radius: 22px;
      padding: 22px;
      background: #fff
    }

    .tier.featured {
      background: #111;
      color: #fff;
      border-color: #111;
      transform: translateY(-8px)
    }

    .tier h3 {
      margin: 0 0 8px
    }

    .price {
      font-size: 2rem;
      line-height: 1
    }

    .footer {
      background: #111;
      color: #f5f3ee;
      border-top-left-radius: 4rem;
      border-top-right-radius: 4rem;
      padding: 56px 0 36px;
      margin-top: 80px
    }

    .foot-grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr 1fr;
      gap: 18px
    }

    .status {
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Space Mono', monospace;
      font-size: .8rem
    }

    .status .dot {
      background: #22c55e
    }

    @keyframes pulse {
      50% {
        opacity: .35
      }
    }

    @keyframes blink {
      50% {
        opacity: 0
      }
    }

    @media (max-width:980px) {

      .features,
      .pricing,
      .foot-grid {
        grid-template-columns: 1fr
      }

      .nav-links {
        display: none
      }

      .hero {
        padding-top: 150px
      }

      .hero h1 em {
        line-height: .88
      }

      .pin-wrap {
        height: auto
      }

      .pin-stage {
        position: static;
        height: auto;
        display: grid;
        grid-template-columns: 1fr;
        gap: 14px
      }

      .p-card {
        position: relative;
        width: auto;
        opacity: 1;
        transform: none
      }
    }
  </style>
</head>

<body>
  <div class="noise"></div>

  <header class="nav" id="nav">
    <div class="nav-inner">
      <div class="logo">Offert<span>Signal</span></div>
      <nav class="nav-links">
        <a href="#features">Funktioner</a>
        <a href="#protocol">Flöde</a>
        <a href="#pricing">Priser</a>
      </nav>
      <a href="#cta" class="btn"><span class="slide"></span><span>Ansök om gratis pilot</span></a>
    </div>
  </header>

  <section class="hero" id="hero">
    <canvas id="heroMesh" aria-hidden="true"></canvas>
    <div class="wrap hero-content">
      <div class="eyebrow mono">OffertSignal</div>
      <h1>Sluta jaga fel kunder.
        <em>Vinn rätt jobb först.</em>
      </h1>
      <p>För hantverksbolag med 60+ förfrågningar per månad som tappar jobb på sen uppföljning. OffertSignal visar vilka
        leads ni ska ta först — så ni vinner fler lönsamma jobb.</p>
      <div class="hero-cta">
        <a href="#cta" class="btn btn-light"><span class="slide"></span><span>Ansök om gratis pilot</span></a>
      </div>
    </div>
  </section>

  <section id="features">
    <div class="wrap">
      <h2>Vilket problem löser vi?</h2>
      <p class="sub">Ni får in många förfrågningar, men bra affärer tappas när allt hanteras i samma kö.</p>

      <div class="features">
        <article class="artifact">
          <h3>Leadprioritering</h3>
          <p class="sub">Automatisk prioritering av inkommande leads efter potential.</p>
          <div class="shuffle-stack" id="shuffle"></div>
        </article>

        <article class="artifact">
          <h3>Fel kunder tar tid</h3>
          <p class="sub">Teamet fastnar i lågkvalitativa förfrågningar istället för lönsamma jobb.</p>
          <div class="feed mono">
            <div class="feed-head"><span class="dot"></span>Liveflöde</div>
            <div class="typing" id="typing"></div>
          </div>
        </article>

        <article class="artifact" style="position:relative">
          <h3>Ingen tydlig prioritering</h3>
          <p class="sub">Vi väljer ut rätt leads åt er så teamet fokuserar på rätt affärer först.</p>
          <div class="pick-row-10" id="pickRow10" aria-label="Leadurval">
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
            <div class="pick10-box"></div>
          </div>
          <div class="pick-caption mono">Röd = utvalda leads med hög prioritet</div>
        </article>
      </div>
    </div>
  </section>

  <section class="manifesto">
    <div class="wrap">
      <h2>För vem?</h2>
      <p><strong>Passar för:</strong> hantverksbolag med 5–20 anställda, 60+ leads/mån och aktiv leadkanal (Google Ads,
        Servicefinder, formulär/mejl).</p>
      <p class="big">OffertSignal är för bolag som vill sluta tappa jobb på dålig prioritering — och öka
        <em>lönsamheten</em>.</p>
    </div>
  </section>

  <section class="protocol" id="protocol">
    <div class="wrap">
      <h2>Arbetsflöde</h2>
      <p class="sub">Tre steg från inkommande lead till veckovis KPI-rapport.</p>
    </div>
    <div class="pin-wrap" id="pinWrap">
      <div class="pin-stage">
        <article class="p-card" id="pc1">
          <div class="p-step">STEG 01</div>
          <h3>Fånga</h3>
          <p>Samla alla leads från formulär och mejl i ett gemensamt inflöde.</p>
          <div class="p-art"><svg viewBox="0 0 200 120" width="100%" height="100%">
              <g id="geoSpin" transform="translate(100 60)">
                <circle r="24" fill="none" stroke="#111" />
                <circle r="40" fill="none" stroke="#E63B2E" />
                <line x1="-48" y1="0" x2="48" y2="0" stroke="#111" />
                <line x1="0" y1="-48" x2="0" y2="48" stroke="#111" />
              </g>
            </svg></div>
        </article>
        <article class="p-card" id="pc2">
          <div class="p-step">STEG 02</div>
          <h3>Prioritera</h3>
          <p>Varje lead får A/B/C-klassning och tydligt nästa steg.</p>
          <div class="p-art"><svg viewBox="0 0 200 120" width="100%" height="100%">
              <defs>
                <pattern id="g2" width="10" height="10" patternUnits="userSpaceOnUse">
                  <circle cx="2" cy="2" r="1" fill="#666" />
                </pattern>
              </defs>
              <rect width="200" height="120" fill="url(#g2)" />
              <rect id="scanLine" y="0" width="200" height="8" fill="#E63B2E" opacity=".45" />
            </svg></div>
        </article>
        <article class="p-card" id="pc3">
          <div class="p-step">STEG 03</div>
          <h3>Följ upp & mät</h3>
          <p>Trigga uppföljning och rapportera svarstid, uppföljningsgrad och bokade offertmöten varje vecka.</p>
          <div class="p-art"><svg viewBox="0 0 300 120" width="100%" height="100%">
              <path id="ekgWave"
                d="M0,70 C30,20 60,120 90,70 C120,20 150,120 180,70 C210,20 240,120 270,70 C285,45 295,60 300,60"
                fill="none" stroke="#111" stroke-width="3" stroke-dasharray="460" stroke-dashoffset="460" />
            </svg></div>
        </article>
      </div>
    </div>
  </section>

  <section id="pricing">
    <div class="wrap">
      <h2>Priser</h2>
      <p class="sub"><strong>Founding Pilot:</strong> Första 3 bolagen får 14 dagar gratis pilot (0 kr), ingen bindning.
        Gäller bolag med aktiv leadkanal och hög inkommande volym.</p>
      <div class="pricing">
        <article class="tier">
          <h3>Founding Pilot</h3>
          <div class="price">0 kr</div>
          <p>14 dagar · endast 3 platser</p>
        </article>
        <article class="tier featured">
          <h3>Starter</h3>
          <div class="price">4 900 kr/mån</div>
          <p>Leadfångst + A/B/C + standardsvar<br><small>Setup från 15 000 kr</small></p>
        </article>
        <article class="tier">
          <h3>Growth</h3>
          <div class="price">8 900 kr/mån</div>
          <p>Sekvenser, optimering, KPI-rapport</p>
        </article>
      </div>
    </div>
  </section>

  <section id="cta">
    <div class="wrap">
      <h2>Bygg en stabil offertmotor.</h2>
      <p class="sub">Ansök om gratis Founding Pilot (3 platser). Start inom 5 dagar, ingen bindning. Fokus: bolag med
        60+ leads/mån.</p>
      <a class="btn" href="mailto:info@offertsignal.se?subject=OffertSignal%20-%20Ans%C3%B6kan%20Founding%20Pilot"><span
          class="slide"></span><span>Ansök om gratis pilot</span></a>
    </div>
  </section>

  <footer class="footer">
    <div class="wrap foot-grid">
      <div>
        <h3 style="margin:0 0 6px">OffertSignal</h3>
        <p style="margin:0;color:#b9b9b9">Signal före offert.</p>
        <p style="margin:6px 0 0;color:#9ca3af;font-size:.88rem">En tjänst från <a href="https://north.nu"
            target="_blank" rel="noopener" style="color:#c7c7c7;text-decoration:none">north.nu</a></p>
      </div>
      <div>
        <strong>Navigering</strong>
        <p><a href="#features" style="color:#c7c7c7;text-decoration:none">Funktioner</a></p>
      </div>
      <div>
        <div class="status"><span class="dot"></span> SYSTEM AKTIVT</div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Nav morph
    const nav = document.getElementById('nav');
    ScrollTrigger.create({
      trigger: '#hero', start: 'bottom top+=40',
      onEnter: () => nav.classList.add('scrolled'),
      onLeaveBack: () => nav.classList.remove('scrolled')
    });

    // Hero entrance
    gsap.from('.hero-content > *', { y: 40, opacity: 0, duration: 1, stagger: 0.08, ease: 'power3.out' });

    // Leadprioritering (stabil version)
    const shuffleItems = [
      { label: 'A: Akut VVS i rätt område', score: '92% fit' },
      { label: 'B: Eljobb, ok budget men låg tidsmatch', score: '67% fit' },
      { label: 'C: Låg marginal, fel zon', score: '31% fit' }
    ];
    const shuf = document.getElementById('shuffle');
    let shufIndex = 0;
    function renderShuffle() {
      const it = shuffleItems[shufIndex];
      shuf.innerHTML = `<div class="shuffle-card mono"><strong>${it.label}</strong><div style="margin-top:6px;color:#666">${it.score}</div><div class="shuffle-meta">Nästa: ${shuffleItems[(shufIndex + 1) % shuffleItems.length].label}</div></div>`;
      gsap.fromTo('#shuffle .shuffle-card', { y: 10, opacity: .0 }, { y: 0, opacity: 1, duration: .35, ease: 'power2.out' });
    }
    renderShuffle();
    setInterval(() => { shufIndex = (shufIndex + 1) % shuffleItems.length; renderShuffle(); }, 3000);

    // Typewriter
    const lines = [
      'lead#884 => A | auto-reply skickad | call nu',
      'lead#885 => C | avböj med standardsvar',
      'lead#886 => B | begär budget + tidfönster',
      'lead#887 => A | notifierat säljansvarig'
    ];
    let li = 0, ci = 0;
    const typing = document.getElementById('typing');
    function tick() {
      const txt = lines[li];
      typing.innerHTML = txt.slice(0, ci) + '<span class="cursor"></span>';
      ci++;
      if (ci <= txt.length) { setTimeout(tick, 28) }
      else { setTimeout(() => { li = (li + 1) % lines.length; ci = 0; tick() }, 1100) }
    }
    tick();

    // 10-rutors prioriteringsanimation (loop)
    const pickBoxes = Array.from(document.querySelectorAll('#pickRow10 .pick10-box'));
    let pickStep = 0;
    function runPickLoop() {
      if (!pickBoxes.length) return;
      pickBoxes.forEach(b => b.classList.remove('hot'));
      const a = (pickStep % pickBoxes.length);
      const b = ((pickStep + 3) % pickBoxes.length);
      pickBoxes[a].classList.add('hot');
      pickBoxes[b].classList.add('hot');

      setTimeout(() => {
        pickBoxes[a].classList.remove('hot');
        pickBoxes[b].classList.remove('hot');
      }, 900);

      pickStep = (pickStep + 1) % pickBoxes.length;
    }
    runPickLoop();
    setInterval(runPickLoop, 1800);

    // Arbetsflöde: Sticky Stacking Archive (3 full-screen cards)
    const mm = gsap.matchMedia();
    mm.add('(min-width: 981px)', () => {
      gsap.set('#pc1', { opacity: 1, y: 0, scale: 1 });
      gsap.set('#pc2', { opacity: 0, y: 120, scale: 0.96 });
      gsap.set('#pc3', { opacity: 0, y: 120, scale: 0.96 });

      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: '#pinWrap',
          start: 'top top',
          end: 'bottom bottom',
          scrub: 1
        }
      });

      tl.to('#pc1', { opacity: 0.52, scale: 0.9, y: -36, filter: 'blur(8px)', duration: 1 })
        .to('#pc2', { opacity: 1, y: 0, scale: 1, filter: 'blur(0px)', duration: 1 }, '<')
        .to('#pc2', { opacity: 0.52, scale: 0.9, y: -36, filter: 'blur(8px)', duration: 1 })
        .to('#pc3', { opacity: 1, y: 0, scale: 1, filter: 'blur(0px)', duration: 1 }, '<');
    });

    mm.add('(max-width: 980px)', () => {
      gsap.set('.p-card', { opacity: 1, y: 0, scale: 1, clearProps: 'filter' });
    });

    // Hero mesh-gradient animation (lightweight canvas)
    (function heroMesh() {
      const canvas = document.getElementById('heroMesh');
      if (!canvas) return;
      const ctx = canvas.getContext('2d', { alpha: false });
      const dpr = Math.min(window.devicePixelRatio || 1, 2);

      function resize() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * dpr);
        canvas.height = Math.floor(rect.height * dpr);
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      resize();
      window.addEventListener('resize', resize);

      const nodes = [
        { x: 0.2, y: 0.32, phase: 0.2 }, { x: 0.34, y: 0.22, phase: 1.1 }, { x: 0.48, y: 0.38, phase: 2.3 },
        { x: 0.64, y: 0.26, phase: 0.7 }, { x: 0.78, y: 0.36, phase: 1.9 }, { x: 0.72, y: 0.58, phase: 2.8 },
        { x: 0.52, y: 0.66, phase: 0.4 }, { x: 0.31, y: 0.57, phase: 1.6 }
      ];

      function frame(t) {
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        const cx = w * 0.66;
        const cy = h * 0.42;
        const baseR = Math.min(w, h) * 0.16;
        const time = t * 0.001;

        ctx.clearRect(0, 0, w, h);

        // base
        ctx.fillStyle = '#f5f3ee';
        ctx.fillRect(0, 0, w, h);

        // subtle gradient wash
        const wash = ctx.createLinearGradient(0, 0, w, h);
        wash.addColorStop(0, 'rgba(163,146,255,0.18)');
        wash.addColorStop(0.6, 'rgba(230,59,46,0.10)');
        wash.addColorStop(1, 'rgba(255,255,255,0)');
        ctx.fillStyle = wash;
        ctx.fillRect(0, 0, w, h);

        // signal links
        ctx.strokeStyle = 'rgba(17,17,17,0.14)';
        ctx.lineWidth = 1;
        for (let i = 0; i < nodes.length - 1; i++) {
          const a = nodes[i], b = nodes[i + 1];
          ctx.beginPath();
          ctx.moveTo(a.x * w, a.y * h);
          ctx.lineTo(b.x * w, b.y * h);
          ctx.stroke();
        }

        // nodes pulse
        nodes.forEach(n => {
          const x = n.x * w, y = n.y * h;
          const pulse = (Math.sin(time * 2.4 + n.phase) + 1) / 2;
          ctx.beginPath();
          ctx.fillStyle = `rgba(230,59,46,${0.25 + 0.45 * pulse})`;
          ctx.arc(x, y, 2.6 + 2.8 * pulse, 0, Math.PI * 2);
          ctx.fill();
        });

        // concentric rings
        for (let i = 0; i < 4; i++) {
          const r = baseR + i * 32 + Math.sin(time * 1.2 + i) * 2;
          ctx.beginPath();
          ctx.strokeStyle = `rgba(17,17,17,${0.08 + i * 0.03})`;
          ctx.lineWidth = 1.2;
          ctx.arc(cx, cy, r, 0, Math.PI * 2);
          ctx.stroke();
        }

        // sweeping radar beam
        const ang = time * 0.9;
        const sweep = ctx.createRadialGradient(cx, cy, 0, cx, cy, baseR + 120);
        sweep.addColorStop(0, 'rgba(230,59,46,0.22)');
        sweep.addColorStop(1, 'rgba(230,59,46,0)');
        ctx.save();
        ctx.translate(cx, cy);
        ctx.rotate(ang);
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.arc(0, 0, baseR + 120, -0.12, 0.12);
        ctx.closePath();
        ctx.fillStyle = sweep;
        ctx.fill();
        ctx.restore();

        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    })();

    // Unique SVG animations for Sticky Stacking Archive
    gsap.to('#geoSpin', {
      rotation: 360,
      transformOrigin: '50% 50%',
      duration: 18,
      repeat: -1,
      ease: 'none'
    });

    gsap.to('#scanLine', {
      y: 112,
      duration: 2.2,
      repeat: -1,
      yoyo: true,
      ease: 'power2.inOut'
    });

    gsap.to('#ekgWave', {
      strokeDashoffset: 0,
      duration: 2.4,
      repeat: -1,
      yoyo: true,
      ease: 'power2.inOut'
    });

  </script>
</body>

</html>